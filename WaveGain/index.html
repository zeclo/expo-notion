<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <title>WebView Handshake Test</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body>
  <h2 id="status">JS RUNNING</h2>

  <script>
    const statusEl = document.getElementById('status');

    function send(msg) {
      if (window.ReactNativeWebView && window.ReactNativeWebView.postMessage) {
        window.ReactNativeWebView.postMessage(msg);
      }
    }

    // Expo â†’ Pages ã‚’å—ä¿¡
    document.addEventListener('message', (event) => {
      statusEl.textContent = 'RECEIVED FROM EXPO: ' + event.data;

      // ðŸ‘‡ ã“ã‚ŒãŒä»Šã¾ã§ç„¡ã‹ã£ãŸã€Œè¿”äº‹ã€
      send('HELLO_FROM_PAGES');
    });

    // ä¿é™ºï¼š1ç§’å¾Œã«ã‚‚é€ä¿¡
    setTimeout(() => {
      send('PAGES_ALIVE');
    }, 1000);
  </script>
</body>
</html>
