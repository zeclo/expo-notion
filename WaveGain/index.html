<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <title>WebView Handshake Test</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body>
  <h2 id="status">JS RUNNING2</h2>

  <script>
  function send(obj) {
    if (window.ReactNativeWebView?.postMessage) {
      window.ReactNativeWebView.postMessage(JSON.stringify(obj));
    }
  }

  document.addEventListener('message', (event) => {
    document.getElementById('status').innerText =
      'RECEIVED FROM EXPO: ' + event.data;

    // ðŸ‘‡ JSONã§è¿”ã™
    send({ type: 'READY' });
  });

  // ä¿é™º
  setTimeout(() => {
    send({ type: 'ALIVE' });
  }, 1000);
</script>
</body>
</html>
